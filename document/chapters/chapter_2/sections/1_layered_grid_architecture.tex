\section{Layered Grid Architecture}
Following the work of Ian Foster, Carl Kesselman and Stevel Tuecke \cite{the_anatomy_of_the_grid}, the Grid Architecture identifies fundamental system components, and indicates how these components interact with one another. This Grid Architecture is first and foremost a protocol architecture, since the interoperability among any potential participant is the central issue and thus requires the definition of common protocols. Protocols govern the \textit{interaction} between components in the Grid and not the \textit{implementation}, maintaining local control.

\begin{quotation}
    \textit{"Why are protocols critical to interoperability? A protocol definition specifies how distributed system elements interact with one another to achieve a specified behavior and the structure of the information exchanged during this interaction. This focus on externals (interactions) rather than internals (software, resource characteristics) has important pragmatic benefits." \cite{the_anatomy_of_the_grid}}
\end{quotation}

In order to provide abstractions to interact with the Grid and develop applications that use it, application programming interfaces (APIs) and software development kits (SDKs) must also be provided; these are built on top of the protocols.
Together, APIs, SDKs and the protocols in the architecture constitutes a middleware.

The architecture is organized in a layer structure (\textit{figure \ref{fig:grid_protocol_architecture_and_internet_protocol_architecture}}), where components within each layer share common characteristics but can build on capabilities and behaviors provided by any lower level. The number of protocols must be contained, focusing on resource and connectivity protocols.

\begin{figure}[!ht]
    \centering
    \includegraphics[scale=1]{document/chapters/chapter_2/images/grid_protocol_architecture_and_internet_protocol_architecture.png}
    \caption{Layered architecture relationship to Internet Protocol (IP) architecture. \cite{the_anatomy_of_the_grid}}
    \label{fig:grid_protocol_architecture_and_internet_protocol_architecture}
\end{figure}

\subsection{Fabric layer}
\begin{figure}[!ht]
    \centering
    \includegraphics[scale=0.35]{document/chapters/chapter_2/images/fabric_layer.png}
    \caption{Layered Grid Architecture - Fabric layer}
    \label{fig:fabric_layer}
\end{figure}

\noindent This is the layer that implements the local, resource-specific operations that occur on specific resources (whether physical or logical) as a result of sharing operations at higher levels. The external access to such resources is mediated by protocols defined in the Grid, while the internal working of this layer depends on the specific implementation that runs on a machine; this organization results in a relatively tight interdependence on the operations defined in this layer and the operations defined in higher layers.
\vspace{30mm}

Operations in this layer should be as simple and minimal as possible in order to easily extend compatibility with as many devices as possible; said operations must involve:
\begin{itemize}
    \item \textit{Enquiry mechanisms}\\
    Allow to discover the Node inside the Grid, as well as describe its resources and status. Resources description provides info about software and hardware capabilities, while status handling offers mechanisms to enquiry current load and queue state.
    \item \textit{Resource management mechanisms}\\
    Allow performing operations using the resources offered by the Node, such as access to storage, computation and network.
\end{itemize} 
\vspace{5mm}

\subsection{Connectivity layer}
\begin{figure}[!ht]
    \centering
    \includegraphics[scale=0.35]{document/chapters/chapter_2/images/connectivity_layer.png}
    \caption{Layered Grid Architecture - Connectivity layer}
    \label{fig:connectivity_layer}
\end{figure}
\vspace{5mm}

\noindent This layer defines core communication and authentication protocols that are used for network transactions inside the Grid in order to enable the exchange of data between fabric layer resources.
\begin{itemize}
    \item \textit{Communication protocols}\\
    This protocols handle transport, routing and naming. Technologies here are mapped to the TCP/IP stack, in particular to the Internet, Transport and Application layers; communication is built on already well established protocols like IP, TCP, UDP, DNS, etc... 
    \item \textit{Authentication protocols}\\
    Mechanisms regarding authentication must possess the following characteristics:
    \begin{itemize}
        \item Single sign-on: users authenticate just once and then have access to a multitude of resources;
        \item Delegation: a user should allow executing authorized instructions on its machine; 
        \item Integration with various local security solutions: the layer should include security solutions provided by the local machine;
        \item Enable users control over authorization: the user must be able to change authorizations regarding the resources that its machine offers.
    \end{itemize}
\end{itemize}

\subsection{Resource layer}
TODO

\subsection{Collective layer}
TODO

\subsection{Application layer}
TODO
